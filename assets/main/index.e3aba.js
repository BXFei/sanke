window.__require=function e(n,t,o){function r(a,c){if(!t[a]){if(!n[a]){var s=a.split("/");if(s=s[s.length-1],!n[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=t[a]={exports:{}};n[a][0].call(l.exports,function(e){return r(n[a][1][e]||e)},l,l.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n){var t,o,r=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function s(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(n){try{return o.call(null,e)}catch(n){return o.call(this,e)}}}(function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}})();var u,l=[],f=!1,h=-1;function d(){f&&u&&(f=!1,u.length?l=u.concat(l):h=-1,l.length&&p())}function p(){if(!f){var e=c(d);f=!0;for(var n=l.length;n;){for(u=l,l=[];++h<n;)u&&u[h].run();h=-1,n=l.length}u=null,f=!1,s(e)}}function m(e,n){this.fun=e,this.array=n}function y(){}r.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new m(e,n)),1!==l.length||f||c(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(){return[]},r.binding=function(){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},{}],HelloWorld:[function(e,n){"use strict";cc._RF.push(n,"280c3rsZJJKnZ9RqbALVwtK","HelloWorld"),cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},text:"Hello, World!"},onLoad:function(){},update:function(){}}),cc._RF.pop()},{}],Main:[function(e,n){"use strict";cc._RF.push(n,"87eeb7YlMVMhJEo2v7YlRaI","Main");var t=e("./async");cc.Class({extends:cc.Component,properties:{mPlaySanke:{default:null,type:cc.Prefab},mYK:{default:null,type:cc.Prefab},mCamera:{default:null,type:cc.Camera},time_fiex:0,time_fiex2:0,mSpeedBtn:{default:null,type:cc.Prefab},mFood:{default:null,type:cc.Prefab},mGameOverUI:{default:null,type:cc.Node},_mScene:null,_mTimeFood:0,_mTimeConputer:0,mSnakeAI:{type:cc.Prefab,default:[]},_mSnakeArr:[],_mSnankeNum:10,_myFoodPool:{type:cc.NodePool,default:null},_mSnakePool:{type:cc.NodePool,default:null},_mSnakeChildrenPool:{type:cc.NodePool,default:null},snake_children:{default:null,type:cc.Prefab}},createFood:function(e){for(var n=0;n<e;n++){var t=cc.instantiate(this.mFood);this._myFoodPool.put(t)}},createChildren:function(e){for(var n=0;n<e;n++){var t=cc.instantiate(this.snake_children);this._mSnakeChildrenPool.put(t)}},randomFood:function(e){var n=this;if(this._mScene.children[1].childrenCount>=500)return!1;var o=t.myrange(0,this._myFoodPool.size());t.eachLimit(o,e,function(){var e=null;n._myFoodPool.size()>0?((e=n._myFoodPool.get(n._myFoodPool)).color=new cc.Color(n.getRndInteger(0,255),n.getRndInteger(0,255),n.getRndInteger(0,255)),e.active=!0,e.x=n.getRndInteger(-2499,2500)+480,e.y=n.getRndInteger(-2499,2500)+320):((e=cc.instantiate(n.mFood)).color=new cc.Color(n.getRndInteger(0,255),n.getRndInteger(0,255),n.getRndInteger(0,255)),e.active=!0,e.x=n.getRndInteger(-2499,2500)+480,e.y=n.getRndInteger(-2499,2500)+320),e.parent=n._mScene.children[1]},function(){})},randomConputerSnake:function(){var e=this,n=t.myrange(0,this._mSnakePool.size());t.eachLimit(n,10,function(){var n=null;(n=e._mSnakePool.size()>0?e._mSnakePool.get(e._mSnakePool):cc.instantiate(e.mSnakeAI)).active=!0,n.parent=e._mScene.children[5]},function(){})},getRndInteger:function(e,n){return Math.floor(Math.random()*(n-e))+e},onLoad:function(){cc.director.isPaused()&&cc.director.resume();var e=this.mPlaySanke.data,n=this.mYK.data,t=this.mSpeedBtn;this._mScene=cc.director.getScene(),this.mPlaySanke=cc.instantiate(e),this.mYK=cc.instantiate(n),this.mSpeedBtn=cc.instantiate(t),this._mSnakeChildrenPool=new cc.NodePool("snake_children"),this.createChildren(300),this._mSnankeNum=12;for(var o=0;o<this._mSnankeNum;o++)(i=cc.instantiate(this.mSnakeAI[o])).x=480,i.y=320,i.children[i.childrenCount-1].x=this.getRndInteger(-2e3,2e3),i.children[i.childrenCount-1].y=this.getRndInteger(-2e3,2e3),this._mSnakeArr.push(i);this.mPlaySanke.x=480,this.mPlaySanke.y=320,this.mPlaySanke.mYg=this.mYK.children[1],this.mPlaySanke.parent=this._mScene,this.mYK.x=130,this.mYK.y=130,this.mYK.parent=this._mScene,this.mSpeedBtn.x=840,this.mSpeedBtn.y=120,this.mSpeedBtn.parent=this._mScene,this.mPlaySanke=this.mPlaySanke.getComponent("sanke_play"),this.mPlaySanke.gameOver=!1,this.mPlaySanke.mYg=this.mYK.children[1].getComponent("yg"),this.mPlaySanke.mCamera=this.mCamera,this.mSpeedBtn=this.mSpeedBtn.getComponent("sanke_btn"),this.mSpeedBtn.m_sanke=this.mPlaySanke.node,this._myFoodPool=new cc.NodePool("food"),this.createFood(800),this.randomFood(500),console.log(this._myFoodPool.size());for(var r=0;r<this._mSnankeNum;r++){var i;(i=this._mSnakeArr[r].getComponent("sanke_ai")).mSnakeStart=1+r,i.node.parent=this._mScene.children[5]}},onGameOver:function(e,n){switch(n){case"back_main":console.log("\u8fd4\u56de\u5927\u5385"),cc.director.loadScene("test"),this._myFoodPool.clear(),this._mSnakeChildrenPool.clear();break;case"fuhuo":cc.director.isPaused()&&cc.director.resume(),this.mPlaySanke.gameOver=!1,this.node.children[0].active=!1;var t=this.mPlaySanke.node,o=t.childrenCount,r=t.children[o-1];r.x=this.getRndInteger(-2e3,2e3)+480,r.y=this.getRndInteger(-2e3,2e3)+320;for(var i=r.parent.getComponent("sanke_play"),a=0;a<o;a++)i.pos_set[a].x=r.x,i.pos_set[a].y=r.y,i.pos_set[a].z=0;break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9!")}},start:function(){},fiexd_update:function(e){var n=this;this.mPlaySanke.moveSanke(e),this.mPlaySanke.getComponent("sanke_play"),this._mScene.children[2].getComponent(cc.Label).string="Score:"+10*this.mPlaySanke.getComponent("sanke_play")._m_food_num;var o=this._mScene.children[3].getComponent(cc.Label);o.string="Pos:"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].x)+"-"+Math.floor(this.mPlaySanke.node.children[this.mPlaySanke.node.childrenCount-1].y);var r=this._mScene.children[4].getComponent(cc.Label);Math.round(100*this.mCamera.zoomRatio),Math.round(100*this.mPlaySanke.node.scale),r.string="xxx:"+this.mCamera.zoomRatio,this.mCamera.zoomRatio>this.mPlaySanke.getComponent("sanke_play").mCZoomRatio&&(this.mCamera.zoomRatio-=.01),this._mTimeFood+=e,this._mTimeFood>=100&&(this.randomFood(100),this._mTimeFood-=100),this._mTimeConputer+=e,this._mTimeConputer>=500&&(this._mTimeConputer-=500),this.mPlaySanke.gameOver&&(cc.director.pause(),o.string="\u6e38\u620f\u7ed3\u675f",this.node.children[0].active=!0);var i=this.node.parent.parent.children[5],a=t.myrange(0,i.childrenCount),c=this._mSnankeNum<10?10:this._mSnankeNum;t.eachLimit(a,c,function(t){var o=i.children[t].getComponent("sanke_ai");o._m_random_time+=e,o._m_random_time>=200&&(o.mRandomPos.x=n.getRndInteger(-10,11)/10,o.mRandomPos.y=n.getRndInteger(-10,11)/10,o._m_random_time-=200)},function(){})},update:function(e){this.time_fiex+=Math.round(100*e);for(var n=this.mPlaySanke.speed_time;this.time_fiex>n;)this.time_fiex-=n,this.fiexd_update(n);for(this.time_fiex2+=Math.round(100*e);this.time_fiex2>2;){this.time_fiex2-=2;var o=this.node.parent.parent.children[5],r=t.myrange(0,o.childrenCount),i=this._mSnankeNum<10?10:this._mSnankeNum;t.eachLimit(r,i,function(e){o.children[e].getComponent("sanke_ai").moveSanke(.016)},function(){})}}}),cc._RF.pop()},{"./async":"async"}],UIBtn:[function(e,n){"use strict";cc._RF.push(n,"e2f3cRmZ0JD6LHrpxwnizvO","UIBtn"),cc.Class({extends:cc.Component,properties:{mProgressBar:{default:null,type:cc.Node},mLabel:{default:null,type:cc.Node}},onIsOK:function(e,n){console.log(n)},onLoginGame:function(e,n){switch(n){case"login_game":console.log("\u767b\u5f55\u6e38\u620f"),cc.director.loadScene("helloworld");break;default:console.log("\u670d\u52a1\u5668\u7e41\u5fd9\uff01\u8bf7\u7a0d\u540e\u518d\u8bd5")}},onLoad:function(){var e=this;this.node.children[0].active=!1;var n=this.mProgressBar.getComponent(cc.ProgressBar),t=this.mLabel.getComponent(cc.Label);cc.director.preloadScene("helloworld",function(e,o){var r=e/o;n.progress=r,t.string=Math.floor(100*r)+"%"},function(){cc.log("\u9884\u52a0\u8f7dhelloworld"),e.node.children[0].active=!0})},start:function(){}}),cc._RF.pop()},{}],async:[function(e,n,t){(function(e,o){"use strict";var r;cc._RF.push(n,"bacdb5ns2pHWZ3ihnjtXfTp","async"),r=function(t){function r(e,n){n|=0;for(var t=Math.max(e.length-n,0),o=Array(t),r=0;r<t;r++)o[r]=e[n+r];return o}var i=function(e){var n=r(arguments,1);return function(){var t=r(arguments);return e.apply(null,n.concat(t))}},a=function(e){return function(){var n=r(arguments),t=n.pop();e.call(this,n,t)}};function c(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}var s="function"==typeof setImmediate&&setImmediate,u="object"==typeof e&&"function"==typeof e.nextTick;function l(e){setTimeout(e,0)}function f(e){return function(n){var t=r(arguments,1);e(function(){n.apply(null,t)})}}var h=f(s?setImmediate:u?e.nextTick:l);function d(e){return a(function(n,t){var o;try{o=e.apply(this,n)}catch(r){return t(r)}c(o)&&"function"==typeof o.then?o.then(function(e){p(t,null,e)},function(e){p(t,e.message?e:new Error(e))}):t(null,o)})}function p(e,n,t){try{e(n,t)}catch(o){h(m,o)}}function m(e){throw e}var y="function"==typeof Symbol;function g(e){return y&&"AsyncFunction"===e[Symbol.toStringTag]}function v(e){return g(e)?d(e):e}function _(e){return function(n){var t=r(arguments,1),o=a(function(t,o){var r=this;return e(n,function(e,n){v(e).apply(r,t.concat(n))},o)});return t.length?o.apply(this,t):o}}var b="object"==typeof o&&o&&o.Object===Object&&o,x="object"==typeof self&&self&&self.Object===Object&&self,S=b||x||Function("","return this")(),k=S.Symbol,C=Object.prototype,P=C.hasOwnProperty,R=C.toString,L=k?k.toStringTag:void 0;function w(e){var n=P.call(e,L),t=e[L];try{e[L]=void 0;var o=!0}catch(i){}var r=R.call(e);return o&&(n?e[L]=t:delete e[L]),r}var M=Object.prototype.toString;function F(e){return M.call(e)}var j="[object Null]",I="[object Undefined]",O=k?k.toStringTag:void 0;function E(e){return null==e?void 0===e?I:j:O&&O in Object(e)?w(e):F(e)}var T="[object AsyncFunction]",B="[object Function]",A="[object GeneratorFunction]",N="[object Proxy]";function z(e){if(!c(e))return!1;var n=E(e);return n==B||n==A||n==T||n==N}var Y=9007199254740991;function K(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Y}function U(e){return null!=e&&K(e.length)&&!z(e)}var H={};function W(){}function q(e){return function(){if(null!==e){var n=e;e=null,n.apply(this,arguments)}}}var V="function"==typeof Symbol&&Symbol.iterator,D=function(e){return V&&e[V]&&e[V]()};function Z(e,n){for(var t=-1,o=Array(e);++t<e;)o[t]=n(t);return o}function G(e){return null!=e&&"object"==typeof e}var J="[object Arguments]";function Q(e){return G(e)&&E(e)==J}var X=Object.prototype,$=X.hasOwnProperty,ee=X.propertyIsEnumerable,ne=Q(function(){return arguments}())?Q:function(e){return G(e)&&$.call(e,"callee")&&!ee.call(e,"callee")},te=Array.isArray,oe="object"==typeof t&&t&&!t.nodeType&&t,re=oe&&"object"==typeof n&&n&&!n.nodeType&&n,ie=re&&re.exports===oe?S.Buffer:void 0,ae=(ie?ie.isBuffer:void 0)||function(){return!1},ce=9007199254740991,se=/^(?:0|[1-9]\d*)$/;function ue(e,n){var t=typeof e;return!!(n=null==n?ce:n)&&("number"==t||"symbol"!=t&&se.test(e))&&e>-1&&e%1==0&&e<n}var le={};le["[object Float32Array]"]=le["[object Float64Array]"]=le["[object Int8Array]"]=le["[object Int16Array]"]=le["[object Int32Array]"]=le["[object Uint8Array]"]=le["[object Uint8ClampedArray]"]=le["[object Uint16Array]"]=le["[object Uint32Array]"]=!0,le["[object Arguments]"]=le["[object Array]"]=le["[object ArrayBuffer]"]=le["[object Boolean]"]=le["[object DataView]"]=le["[object Date]"]=le["[object Error]"]=le["[object Function]"]=le["[object Map]"]=le["[object Number]"]=le["[object Object]"]=le["[object RegExp]"]=le["[object Set]"]=le["[object String]"]=le["[object WeakMap]"]=!1;var fe,he="object"==typeof t&&t&&!t.nodeType&&t,de=he&&"object"==typeof n&&n&&!n.nodeType&&n,pe=de&&de.exports===he&&b.process,me=function(){try{return de&&de.require&&de.require("util").types||pe&&pe.binding&&pe.binding("util")}catch(e){}}(),ye=me&&me.isTypedArray,ge=ye?(fe=ye,function(e){return fe(e)}):function(e){return G(e)&&K(e.length)&&!!le[E(e)]},ve=Object.prototype.hasOwnProperty;function _e(e,n){var t=te(e),o=!t&&ne(e),r=!t&&!o&&ae(e),i=!t&&!o&&!r&&ge(e),a=t||o||r||i,c=a?Z(e.length,String):[],s=c.length;for(var u in e)!n&&!ve.call(e,u)||a&&("length"==u||r&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ue(u,s))||c.push(u);return c}var be=Object.prototype,xe=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),Se=Object.prototype.hasOwnProperty;function ke(e){if(t=(n=e)&&n.constructor,n!==("function"==typeof t&&t.prototype||be))return xe(e);var n,t,o=[];for(var r in Object(e))Se.call(e,r)&&"constructor"!=r&&o.push(r);return o}function Ce(e){return U(e)?_e(e):ke(e)}function Pe(e){var n=-1,t=e.length;return function(){return++n<t?{value:e[n],key:n}:null}}function Re(e){var n=-1;return function(){var t=e.next();return t.done?null:(n++,{value:t.value,key:n})}}function Le(e){if(U(e))return Pe(e);var n,t,o,r,i=D(e);return i?Re(i):(t=Ce(n=e),o=-1,r=t.length,function(){var e=t[++o];return o<r?{value:n[e],key:e}:null})}function we(e){return function(){if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,arguments)}}function Me(e){return function(n,t,o){if(o=q(o||W),e<=0||!n)return o(null);var r=Le(n),i=!1,a=0,c=!1;function s(e,n){if(a-=1,e)i=!0,o(e);else{if(n===H||i&&a<=0)return i=!0,o(null);c||u()}}function u(){for(c=!0;a<e&&!i;){var n=r();if(null===n)return i=!0,void(a<=0&&o(null));a+=1,t(n.value,n.key,we(s))}c=!1}u()}}function Fe(e,n,t,o){Me(n)(e,v(t),o)}function je(e,n){return function(t,o,r){return e(t,n,o,r)}}function Ie(e,n,t){t=q(t||W);var o=0,r=0,i=e.length;function a(e,n){e?t(e):++r!==i&&n!==H||t(null)}for(0===i&&t(null);o<i;o++)n(e[o],o,we(a))}var Oe=je(Fe,1/0),Ee=function(e,n,t){(U(e)?Ie:Oe)(e,v(n),t)};function Te(e){return function(n,t,o){return e(Ee,n,v(t),o)}}function Be(e,n,t,o){o=o||W,n=n||[];var r=[],i=0,a=v(t);e(n,function(e,n,t){var o=i++;a(e,function(e,n){r[o]=n,t(e)})},function(e){o(e,r)})}var Ae=Te(Be),Ne=_(Ae);function ze(e){return function(n,t,o,r){return e(Me(t),n,v(o),r)}}var Ye=ze(Be),Ke=je(Ye,1),Ue=_(Ke);function He(e,n){for(var t=-1,o=null==e?0:e.length;++t<o&&!1!==n(e[t],t,e););return e}var We=function(e,n,t){for(var o=-1,r=Object(e),i=t(e),a=i.length;a--;){var c=i[++o];if(!1===n(r[c],c,r))break}return e};function qe(e,n){return e&&We(e,n,Ce)}function Ve(e,n,t,o){for(var r=e.length,i=t+(o?1:-1);o?i--:++i<r;)if(n(e[i],i,e))return i;return-1}function De(e){return e!=e}function Ze(e,n,t){for(var o=t-1,r=e.length;++o<r;)if(e[o]===n)return o;return-1}function Ge(e,n,t){return n==n?Ze(e,n,t):Ve(e,De,t)}var Je=function(e,n,t){"function"==typeof n&&(t=n,n=null),t=q(t||W);var o=Ce(e).length;if(!o)return t(null);n||(n=o);var i={},a=0,c=!1,s=Object.create(null),u=[],l=[],f={};function h(e,n){u.push(function(){m(e,n)})}function d(){if(0===u.length&&0===a)return t(null,i);for(;u.length&&a<n;)u.shift()()}function p(e){He(s[e]||[],function(e){e()}),d()}function m(e,n){if(!c){var o=we(function(n,o){if(a--,arguments.length>2&&(o=r(arguments,1)),n){var u={};qe(i,function(e,n){u[n]=e}),u[e]=o,c=!0,s=Object.create(null),t(n,u)}else i[e]=o,p(e)});a++;var u=v(n[n.length-1]);n.length>1?u(i,o):u(o)}}function y(n){var t=[];return qe(e,function(e,o){te(e)&&Ge(e,n,0)>=0&&t.push(o)}),t}qe(e,function(n,t){if(!te(n))return h(t,[n]),void l.push(t);var o=n.slice(0,n.length-1),r=o.length;if(0===r)return h(t,n),void l.push(t);f[t]=r,He(o,function(i){if(!e[i])throw new Error("async.auto task `"+t+"` has a non-existent dependency `"+i+"` in "+o.join(", "));var a,c,u;c=function(){0==--r&&h(t,n)},(u=s[a=i])||(u=s[a]=[]),u.push(c)})}),function(){for(var e=0;l.length;)e++,He(y(l.pop()),function(e){0==--f[e]&&l.push(e)});if(e!==o)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),d()};function Qe(e,n){for(var t=-1,o=null==e?0:e.length,r=Array(o);++t<o;)r[t]=n(e[t],t,e);return r}var Xe="[object Symbol]";function $e(e){return"symbol"==typeof e||G(e)&&E(e)==Xe}var en=1/0,nn=k?k.prototype:void 0,tn=nn?nn.toString:void 0;function on(e){if("string"==typeof e)return e;if(te(e))return Qe(e,on)+"";if($e(e))return tn?tn.call(e):"";var n=e+"";return"0"==n&&1/e==-en?"-0":n}function rn(e,n,t){var o=-1,r=e.length;n<0&&(n=-n>r?0:r+n),(t=t>r?r:t)<0&&(t+=r),r=n>t?0:t-n>>>0,n>>>=0;for(var i=Array(r);++o<r;)i[o]=e[o+n];return i}function an(e,n,t){var o=e.length;return t=void 0===t?o:t,!n&&t>=o?e:rn(e,n,t)}function cn(e,n){for(var t=e.length;t--&&Ge(n,e[t],0)>-1;);return t}function sn(e,n){for(var t=-1,o=e.length;++t<o&&Ge(n,e[t],0)>-1;);return t}function un(e){return e.split("")}var ln=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function fn(e){return ln.test(e)}var hn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",dn="\\ud83c[\\udffb-\\udfff]",pn="[^\\ud800-\\udfff]",mn="(?:\\ud83c[\\udde6-\\uddff]){2}",yn="[\\ud800-\\udbff][\\udc00-\\udfff]",gn="(?:"+hn+"|"+dn+")?",vn="[\\ufe0e\\ufe0f]?"+gn+"(?:\\u200d(?:"+[pn,mn,yn].join("|")+")[\\ufe0e\\ufe0f]?"+gn+")*",_n="(?:"+[pn+hn+"?",hn,mn,yn,"[\\ud800-\\udfff]"].join("|")+")",bn=RegExp(dn+"(?="+dn+")|"+_n+vn,"g");function xn(e){return e.match(bn)||[]}function Sn(e){return fn(e)?xn(e):un(e)}var kn=/^\s+|\s+$/g;function Cn(e,n,t){var o;if((e=null==(o=e)?"":on(o))&&(t||void 0===n))return e.replace(kn,"");if(!e||!(n=on(n)))return e;var r=Sn(e),i=Sn(n);return an(r,sn(r,i),cn(r,i)+1).join("")}var Pn=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,Rn=/,/,Ln=/(=.+)?(\s*)$/,wn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function Mn(e){return(e=(e=(e=e.toString().replace(wn,"")).match(Pn)[2].replace(" ",""))?e.split(Rn):[]).map(function(e){return Cn(e.replace(Ln,""))})}function Fn(e,n){var t={};qe(e,function(e,n){var o,r=g(e),i=!r&&1===e.length||r&&0===e.length;if(te(e))o=e.slice(0,-1),e=e[e.length-1],t[n]=o.concat(o.length>0?a:e);else if(i)t[n]=e;else{if(o=Mn(e),0===e.length&&!r&&0===o.length)throw new Error("autoInject task functions require explicit parameters.");r||o.pop(),t[n]=o.concat(a)}function a(n,t){var r=Qe(o,function(e){return n[e]});r.push(t),v(e).apply(null,r)}}),Je(t,n)}function jn(){this.head=this.tail=null,this.length=0}function In(e,n){e.length=1,e.head=e.tail=n}function On(e,n,t){if(null==n)n=1;else if(0===n)throw new Error("Concurrency must not be zero");var o=v(e),r=0,i=[],a=!1;function c(e,n,t){if(null!=t&&"function"!=typeof t)throw new Error("task callback must be a function");if(l.started=!0,te(e)||(e=[e]),0===e.length&&l.idle())return h(function(){l.drain()});for(var o=0,r=e.length;o<r;o++){var i={data:e[o],callback:t||W};n?l._tasks.unshift(i):l._tasks.push(i)}a||(a=!0,h(function(){a=!1,l.process()}))}function s(e){return function(n){r-=1;for(var t=0,o=e.length;t<o;t++){var a=e[t],c=Ge(i,a,0);0===c?i.shift():c>0&&i.splice(c,1),a.callback.apply(a,arguments),null!=n&&l.error(n,a.data)}r<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}}var u=!1,l={_tasks:new jn,concurrency:n,payload:t,saturated:W,unsaturated:W,buffer:n/4,empty:W,drain:W,error:W,started:!1,paused:!1,push:function(e,n){c(e,!1,n)},kill:function(){l.drain=W,l._tasks.empty()},unshift:function(e,n){c(e,!0,n)},remove:function(e){l._tasks.remove(e)},process:function(){if(!u){for(u=!0;!l.paused&&r<l.concurrency&&l._tasks.length;){var e=[],n=[],t=l._tasks.length;l.payload&&(t=Math.min(t,l.payload));for(var a=0;a<t;a++){var c=l._tasks.shift();e.push(c),i.push(c),n.push(c.data)}r+=1,0===l._tasks.length&&l.empty(),r===l.concurrency&&l.saturated();var f=we(s(e));o(n,f)}u=!1}},length:function(){return l._tasks.length},running:function(){return r},workersList:function(){return i},idle:function(){return l._tasks.length+r===0},pause:function(){l.paused=!0},resume:function(){!1!==l.paused&&(l.paused=!1,h(l.process))}};return l}function En(e,n){return On(e,1,n)}jn.prototype.removeLink=function(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e},jn.prototype.empty=function(){for(;this.head;)this.shift();return this},jn.prototype.insertAfter=function(e,n){n.prev=e,n.next=e.next,e.next?e.next.prev=n:this.tail=n,e.next=n,this.length+=1},jn.prototype.insertBefore=function(e,n){n.prev=e.prev,n.next=e,e.prev?e.prev.next=n:this.head=n,e.prev=n,this.length+=1},jn.prototype.unshift=function(e){this.head?this.insertBefore(this.head,e):In(this,e)},jn.prototype.push=function(e){this.tail?this.insertAfter(this.tail,e):In(this,e)},jn.prototype.shift=function(){return this.head&&this.removeLink(this.head)},jn.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},jn.prototype.toArray=function(){for(var e=Array(this.length),n=this.head,t=0;t<this.length;t++)e[t]=n.data,n=n.next;return e},jn.prototype.remove=function(e){for(var n=this.head;n;){var t=n.next;e(n)&&this.removeLink(n),n=t}return this};var Tn=je(Fe,1);function Bn(e,n,t,o){o=q(o||W);var r=v(t);Tn(e,function(e,t,o){r(n,e,function(e,t){n=t,o(e)})},function(e){o(e,n)})}function An(){var e=Qe(arguments,v);return function(){var n=r(arguments),t=this,o=n[n.length-1];"function"==typeof o?n.pop():o=W,Bn(e,n,function(e,n,o){n.apply(t,e.concat(function(e){var n=r(arguments,1);o(e,n)}))},function(e,n){o.apply(t,[e].concat(n))})}}var Nn=function(){return An.apply(null,r(arguments).reverse())},zn=Array.prototype.concat,Yn=function(e,n,t,o){o=o||W;var i=v(t);Ye(e,n,function(e,n){i(e,function(e){return e?n(e):n(null,r(arguments,1))})},function(e,n){for(var t=[],r=0;r<n.length;r++)n[r]&&(t=zn.apply(t,n[r]));return o(e,t)})},Kn=je(Yn,1/0),Un=je(Yn,1),Hn=function(){var e=r(arguments),n=[null].concat(e);return function(){var e=arguments[arguments.length-1];return e.apply(this,n)}};function Wn(e){return e}function qn(e,n){return function(t,o,r,i){i=i||W;var a,c=!1;t(o,function(t,o,i){r(t,function(o,r){o?i(o):e(r)&&!a?(c=!0,a=n(!0,t),i(null,H)):i()})},function(e){e?i(e):i(null,c?a:n(!1))})}}function Vn(e,n){return n}var Dn=Te(qn(Wn,Vn)),Zn=ze(qn(Wn,Vn)),Gn=je(Zn,1);function Jn(e){return function(n){var t=r(arguments,1);t.push(function(n){var t=r(arguments,1);"object"==typeof console&&(n?console.error&&console.error(n):console[e]&&He(t,function(n){console[e](n)}))}),v(n).apply(null,t)}}var Qn=Jn("dir");function Xn(e,n,t){t=we(t||W);var o=v(e),i=v(n);function a(e){if(e)return t(e);var n=r(arguments,1);n.push(c),i.apply(this,n)}function c(e,n){return e?t(e):n?void o(a):t(null)}c(null,!0)}function $n(e,n,t){t=we(t||W);var o=v(e);o(function e(i){if(i)return t(i);var a=r(arguments,1);if(n.apply(this,a))return o(e);t.apply(null,[null].concat(a))})}function et(e,n,t){$n(e,function(){return!n.apply(this,arguments)},t)}function nt(e,n,t){t=we(t||W);var o=v(n),r=v(e);function i(e){if(e)return t(e);r(a)}function a(e,n){return e?t(e):n?void o(i):t(null)}r(a)}function tt(e){return function(n,t,o){return e(n,o)}}function ot(e,n,t){Ee(e,tt(v(n)),t)}function rt(e,n,t,o){Me(n)(e,tt(v(t)),o)}var it=je(rt,1);function at(e){return g(e)?e:a(function(n,t){var o=!0;n.push(function(){var e=arguments;o?h(function(){t.apply(null,e)}):t.apply(null,e)}),e.apply(this,n),o=!1})}function ct(e){return!e}var st=Te(qn(ct,ct)),ut=ze(qn(ct,ct)),lt=je(ut,1);function ft(e){return function(n){return null==n?void 0:n[e]}}function ht(e,n,t,o){var r=new Array(n.length);e(n,function(e,n,o){t(e,function(e,t){r[n]=!!t,o(e)})},function(e){if(e)return o(e);for(var t=[],i=0;i<n.length;i++)r[i]&&t.push(n[i]);o(null,t)})}function dt(e,n,t,o){var r=[];e(n,function(e,n,o){t(e,function(t,i){t?o(t):(i&&r.push({index:n,value:e}),o())})},function(e){e?o(e):o(null,Qe(r.sort(function(e,n){return e.index-n.index}),ft("value")))})}function pt(e,n,t,o){(U(n)?ht:dt)(e,n,v(t),o||W)}var mt=Te(pt),yt=ze(pt),gt=je(yt,1);function vt(e,n){var t=we(n||W),o=v(at(e));(function e(n){if(n)return t(n);o(e)})()}var _t=function(e,n,t,o){o=o||W;var r=v(t);Ye(e,n,function(e,n){r(e,function(t,o){return t?n(t):n(null,{key:o,val:e})})},function(e,n){for(var t={},r=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(n[i]){var a=n[i].key,c=n[i].val;r.call(t,a)?t[a].push(c):t[a]=[c]}return o(e,t)})},bt=je(_t,1/0),xt=je(_t,1),St=Jn("log");function kt(e,n,t,o){o=q(o||W);var r={},i=v(t);Fe(e,n,function(e,n,t){i(e,n,function(e,o){if(e)return t(e);r[n]=o,t()})},function(e){o(e,r)})}var Ct=je(kt,1/0),Pt=je(kt,1);function Rt(e,n){return n in e}function Lt(e,n){var t=Object.create(null),o=Object.create(null);n=n||Wn;var i=v(e),c=a(function(e,a){var c=n.apply(null,e);Rt(t,c)?h(function(){a.apply(null,t[c])}):Rt(o,c)?o[c].push(a):(o[c]=[a],i.apply(null,e.concat(function(){var e=r(arguments);t[c]=e;var n=o[c];delete o[c];for(var i=0,a=n.length;i<a;i++)n[i].apply(null,e)})))});return c.memo=t,c.unmemoized=e,c}var wt=f(u?e.nextTick:s?setImmediate:l);function Mt(e,n,t){t=t||W;var o=U(n)?[]:{};e(n,function(e,n,t){v(e)(function(e,i){arguments.length>2&&(i=r(arguments,1)),o[n]=i,t(e)})},function(e){t(e,o)})}function Ft(e,n){Mt(Ee,e,n)}function jt(e,n,t){Mt(Me(n),e,t)}var It=function(e,n){var t=v(e);return On(function(e,n){t(e[0],n)},n,1)},Ot=function(e,n){var t=It(e,n);return t.push=function(e,n,o){if(null==o&&(o=W),"function"!=typeof o)throw new Error("task callback must be a function");if(t.started=!0,te(e)||(e=[e]),0===e.length)return h(function(){t.drain()});n=n||0;for(var r=t._tasks.head;r&&n>=r.priority;)r=r.next;for(var i=0,a=e.length;i<a;i++){var c={data:e[i],priority:n,callback:o};r?t._tasks.insertBefore(r,c):t._tasks.push(c)}h(t.process)},delete t.unshift,t};function Et(e,n){if(n=q(n||W),!te(e))return n(new TypeError("First argument to race must be an array of functions"));if(!e.length)return n();for(var t=0,o=e.length;t<o;t++)v(e[t])(n)}function Tt(e,n,t,o){Bn(r(e).reverse(),n,t,o)}function Bt(e){var n=v(e);return a(function(e,t){return e.push(function(e,n){var o;e?t(null,{error:e}):(o=arguments.length<=2?n:r(arguments,1),t(null,{value:o}))}),n.apply(this,e)})}function At(e){var n;return te(e)?n=Qe(e,Bt):(n={},qe(e,function(e,t){n[t]=Bt.call(this,e)})),n}function Nt(e,n,t,o){pt(e,n,function(e,n){t(e,function(e,t){n(e,!t)})},o)}var zt=Te(Nt),Yt=ze(Nt),Kt=je(Yt,1);function Ut(e){return function(){return e}}function Ht(e,n,t){var o={times:5,intervalFunc:Ut(0)};if(arguments.length<3&&"function"==typeof e?(t=n||W,n=e):(function(e,n){if("object"==typeof n)e.times=+n.times||5,e.intervalFunc="function"==typeof n.interval?n.interval:Ut(+n.interval||0),e.errorFilter=n.errorFilter;else{if("number"!=typeof n&&"string"!=typeof n)throw new Error("Invalid arguments for async.retry");e.times=+n||5}}(o,e),t=t||W),"function"!=typeof n)throw new Error("Invalid arguments for async.retry");var r=v(n),i=1;(function e(){r(function(n){n&&i++<o.times&&("function"!=typeof o.errorFilter||o.errorFilter(n))?setTimeout(e,o.intervalFunc(i)):t.apply(null,arguments)})})()}var Wt=function(e,n){n||(n=e,e=null);var t=v(n);return a(function(n,o){function r(e){t.apply(null,n.concat(e))}e?Ht(e,r,o):Ht(r,o)})};function qt(e,n){Mt(Tn,e,n)}var Vt=Te(qn(Boolean,Wn)),Dt=ze(qn(Boolean,Wn)),Zt=je(Dt,1);function Gt(e,n,t){var o=v(n);function r(e,n){var t=e.criteria,o=n.criteria;return t<o?-1:t>o?1:0}Ae(e,function(e,n){o(e,function(t,o){if(t)return n(t);n(null,{value:e,criteria:o})})},function(e,n){if(e)return t(e);t(null,Qe(n.sort(r),ft("value")))})}function Jt(e,n,t){var o=v(e);return a(function(r,i){var a,c=!1;r.push(function(){c||(i.apply(null,arguments),clearTimeout(a))}),a=setTimeout(function(){var n=e.name||"anonymous",o=new Error('Callback function "'+n+'" timed out.');o.code="ETIMEDOUT",t&&(o.info=t),c=!0,i(o)},n),o.apply(null,r)})}var Qt=Math.ceil,Xt=Math.max;function $t(e,n,t,o){for(var r=-1,i=Xt(Qt((n-e)/(t||1)),0),a=Array(i);i--;)a[o?i:++r]=e,e+=t;return a}function eo(e,n,t,o){var r=v(t);Ye($t(0,e,1),n,r,o)}var no=je(eo,1/0),to=je(eo,1);function oo(e,n,t,o){arguments.length<=3&&(o=t,t=n,n=te(e)?[]:{}),o=q(o||W);var r=v(t);Ee(e,function(e,t,o){r(n,e,t,o)},function(e){o(e,n)})}function ro(e,n){var t,o=null;n=n||W,it(e,function(e,n){v(e)(function(e,i){t=arguments.length>2?r(arguments,1):i,o=e,n(!e)})},function(){n(o,t)})}function io(e){return function(){return(e.unmemoized||e).apply(null,arguments)}}function ao(e,n,t){t=we(t||W);var o=v(n);if(!e())return t(null);o(function n(i){if(i)return t(i);if(e())return o(n);var a=r(arguments,1);t.apply(null,[null].concat(a))})}function co(e,n,t){ao(function(){return!e.apply(this,arguments)},n,t)}var so=function(e,n){if(n=q(n||W),!te(e))return n(new Error("First argument to waterfall must be an array of functions"));if(!e.length)return n();var t=0;function o(n){var o=v(e[t++]);n.push(we(i)),o.apply(null,n)}function i(i){if(i||t===e.length)return n.apply(null,arguments);o(r(arguments,1))}o([])},uo={apply:i,applyEach:Ne,applyEachSeries:Ue,asyncify:d,auto:Je,autoInject:Fn,cargo:En,compose:Nn,concat:Kn,concatLimit:Yn,concatSeries:Un,constant:Hn,detect:Dn,detectLimit:Zn,detectSeries:Gn,dir:Qn,doDuring:Xn,doUntil:et,doWhilst:$n,during:nt,each:ot,eachLimit:rt,eachOf:Ee,eachOfLimit:Fe,eachOfSeries:Tn,eachSeries:it,ensureAsync:at,every:st,everyLimit:ut,everySeries:lt,filter:mt,filterLimit:yt,filterSeries:gt,forever:vt,groupBy:bt,groupByLimit:_t,groupBySeries:xt,log:St,map:Ae,mapLimit:Ye,mapSeries:Ke,mapValues:Ct,mapValuesLimit:kt,mapValuesSeries:Pt,memoize:Lt,nextTick:wt,parallel:Ft,parallelLimit:jt,priorityQueue:Ot,queue:It,race:Et,reduce:Bn,reduceRight:Tt,reflect:Bt,reflectAll:At,reject:zt,rejectLimit:Yt,rejectSeries:Kt,retry:Ht,retryable:Wt,seq:An,series:qt,setImmediate:h,some:Vt,someLimit:Dt,someSeries:Zt,sortBy:Gt,timeout:Jt,times:no,timesLimit:eo,timesSeries:to,transform:oo,tryEach:ro,unmemoize:io,until:co,waterfall:so,whilst:ao,all:st,allLimit:ut,allSeries:lt,any:Vt,anyLimit:Dt,anySeries:Zt,find:Dn,findLimit:Zn,findSeries:Gn,forEach:ot,forEachSeries:it,forEachLimit:rt,forEachOf:Ee,forEachOfSeries:Tn,forEachOfLimit:Fe,inject:Bn,foldl:Bn,foldr:Tt,select:mt,selectLimit:yt,selectSeries:gt,wrapSync:d};t.accAdd=function(e,n){var t,o,r;try{t=e.toString().split(".")[1].length}catch(i){t=0}try{o=n.toString().split(".")[1].length}catch(i){o=0}return((e*(r=Math.pow(100,Math.max(t,o)))+n*r)/r).toFixed(2)},t.Subtr=function(e,n){var t,o,r;try{t=e.toString().split(".")[1].length}catch(i){t=0}try{o=n.toString().split(".")[1].length}catch(i){o=0}return((e*(r=Math.pow(100,Math.max(t,o)))-n*r)/r).toFixed(2)},t.accMul=function(e,n){var t=0,o=e.toString(),r=n.toString();try{t+=o.split(".")[1].length}catch(i){}try{t+=r.split(".")[1].length}catch(i){}return Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(100,t)},t.myrange=function(e,n){return new Array(n-e).fill(e).map(function(n,t){return e+t})},t.default=uo,t.apply=i,t.applyEach=Ne,t.applyEachSeries=Ue,t.asyncify=d,t.auto=Je,t.autoInject=Fn,t.cargo=En,t.compose=Nn,t.concat=Kn,t.concatLimit=Yn,t.concatSeries=Un,t.constant=Hn,t.detect=Dn,t.detectLimit=Zn,t.detectSeries=Gn,t.dir=Qn,t.doDuring=Xn,t.doUntil=et,t.doWhilst=$n,t.during=nt,t.each=ot,t.eachLimit=rt,t.eachOf=Ee,t.eachOfLimit=Fe,t.eachOfSeries=Tn,t.eachSeries=it,t.ensureAsync=at,t.every=st,t.everyLimit=ut,t.everySeries=lt,t.filter=mt,t.filterLimit=yt,t.filterSeries=gt,t.forever=vt,t.groupBy=bt,t.groupByLimit=_t,t.groupBySeries=xt,t.log=St,t.map=Ae,t.mapLimit=Ye,t.mapSeries=Ke,t.mapValues=Ct,t.mapValuesLimit=kt,t.mapValuesSeries=Pt,t.memoize=Lt,t.nextTick=wt,t.parallel=Ft,t.parallelLimit=jt,t.priorityQueue=Ot,t.queue=It,t.race=Et,t.reduce=Bn,t.reduceRight=Tt,t.reflect=Bt,t.reflectAll=At,t.reject=zt,t.rejectLimit=Yt,t.rejectSeries=Kt,t.retry=Ht,t.retryable=Wt,t.seq=An,t.series=qt,t.setImmediate=h,t.some=Vt,t.someLimit=Dt,t.someSeries=Zt,t.sortBy=Gt,t.timeout=Jt,t.times=no,t.timesLimit=eo,t.timesSeries=to,t.transform=oo,t.tryEach=ro,t.unmemoize=io,t.until=co,t.waterfall=so,t.whilst=ao,t.all=st,t.allLimit=ut,t.allSeries=lt,t.any=Vt,t.anyLimit=Dt,t.anySeries=Zt,t.find=Dn,t.findLimit=Zn,t.findSeries=Gn,t.forEach=ot,t.forEachSeries=it,t.forEachLimit=rt,t.forEachOf=Ee,t.forEachOfSeries=Tn,t.forEachOfLimit=Fe,t.inject=Bn,t.foldl=Bn,t.foldr=Tt,t.select=mt,t.selectLimit=yt,t.selectSeries=gt,t.wrapSync=d,Object.defineProperty(t,"__esModule",{value:!0})},"object"==typeof t&&void 0!==n?r(t):"function"==typeof define&&define.amd?define(["exports"],r):r((void 0).async=(void 0).async||{}),cc._RF.pop()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],enable_phy:[function(e,n){"use strict";cc._RF.push(n,"60b26PYZtFGd7vMev5B8A5R","enable_phy"),cc.Class({extends:cc.Component,properties:{gravity:cc.v2(0,-320),is_debug:!0},onLoad:function(){if(cc.director.getPhysicsManager().enabled=!0,cc.director.getPhysicsManager().gravity=this.gravity,this.is_debug){var e=cc.PhysicsManager.DrawBits;cc.director.getPhysicsManager().debugDrawFlags=e.e_aabbBit|e.e_centerOfMassBit|e.e_jointBit|e.e_shapeBit}else cc.director.getPhysicsManager().debugDrawFlags=0},start:function(){}}),cc._RF.pop()},{}],food:[function(e,n){"use strict";cc._RF.push(n,"749c0ekpLlCC52xyltu5AHB","food"),e("./async"),cc.Class({extends:cc.Component,properties:{sprite:{default:null,type:cc.SpriteFrame}},reuse:function(e){e||(console.log("hello"),setTimeout(function(){this.node.destroy()}.bind(self),200))},onCollisionEnter:function(e,n){var t=e.node.parent.convertToWorldSpaceAR(e.node.getPosition()),o=n.node.getPosition(),r=Math.abs(t.x-o.x),i=Math.abs(t.y-o.y);cc.log("result:"+r+":"+i),console.log("=====================================");var a=e.node.parent.name,c=e.node.parent.childrenCount,s=e.node.parent.children[c-1],u=e.node.parent.children[0],l="",f="";if("sanke_play"==a&&"sanke_play_head"==s.name)l=e.node.parent.parent.children[0].children[1].getComponent("Main"),f=e.node.parent.getComponent("sanke_play");else{if("head"!=s.name.substring(11))return!1;l=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),f=e.node.parent.getComponent("sanke_ai")}if(n.node.active=!1,l._myFoodPool.put(n.node),f._m_food_num+=1,f._m_food_num%5==0&&0!=f._m_food_num){var h="";if(l._mSnakeChildrenPool.size()>0){(h=l._mSnakeChildrenPool.get()).name=a+c,h.active=!0,h.group="food";for(var d=f.BLOCK_LEN/f.speed,p=0;p<d;)f.pos_set.unshift(cc.v3(u.x,u.y,u.z)),p+=f.m_time_cell;var m=Math.floor(f.BLOCK_LEN/(f.speed*f.m_time_cell));h.setPosition(cc.v2(f.pos_set[m].x,f.pos_set[m].y)),h.angle=f.pos_set[m].z,h.cur_index=m,h.zIndex=-1,h.parent=e.node.parent}}},onCollisionStay:function(){},onCollisionExit:function(){},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],mapCollider:[function(e,n){"use strict";cc._RF.push(n,"6b6b7DPaIFK0I4K8QRwnu9V","mapCollider"),e("./async"),cc.Class({extends:cc.Component,properties:{mPrefab:{type:cc.Prefab,default:null}},reuse:function(e){console.log(e)},onCollisionEnter:function(e){if("sanke_play"==e.node.parent.name&&"sanke_play_head"==e.node.name)e.node.parent.getComponent("sanke_play").gameOver=!0;else if("head"==e.node.name.substring(11)){for(var n=e.node.parent.getComponent("sanke_ai"),t=n.pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=n.point_num,a=0;a<o;a++){var c=null;r._myFoodPool.size()>0&&a%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[a*i].x+480+r.getRndInteger(-5,5),c.y=t[a*i].y+320+r.getRndInteger(-5,5),c.parent=e.node.parent.parent.parent.children[1])}n.node.x=480,n.node.y=320;for(var s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3,l=0;l<n.node.childrenCount;l++)n.node.children[l].setPosition(cc.v2(s,u));for(var f=0;f<n.pos_set.length;f++)n.pos_set[f]=cc.v3(s,u,0)}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{"./async":"async"}],sanke_ai:[function(e,n){"use strict";cc._RF.push(n,"6686eQdYOxFaoAx8miEH4bf","sanke_ai"),cc.Class({extends:cc.Component,properties:{time_01:0,BLOCK_LEN:32,speed:200,speed_time:.032,m_time_cell:0,_m_food_num:0,_m_random_time:0,mSnakeStart:1,gameOver:!0,mRandomPos:cc.v2(0,0)},capture_points:function(e){var n=(this.node.childrenCount-1)*this.BLOCK_LEN,t=e.x,o=e.y,r=e.z,i=n/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;var c=this.node.children[this.node.childrenCount-1];c.zIndex=100,c.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),c.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l}},getRndInteger:function(e,n){return Math.floor(Math.random()*(n-e))+e},onLoad:function(){this.node.group="default",this.node.children[0].color,this.m_time_cell=.02,this.mRandomPos.x=(Math.floor(20*Math.random())+-10)/10,this.mRandomPos.y=(Math.floor(20*Math.random())+-10)/10},start:function(){var e=this.node.children[this.node.childrenCount-1],n=cc.v3(e.x,e.y,0);this.capture_points(n),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(){var e=this.node.children[this.node.childrenCount-1],n=e.getPosition();(n.x<=-2400||n.x>=2400)&&(this.mRandomPos.x=0-this.mRandomPos.x),(n.y<=-2400||n.y>=2400)&&(this.mRandomPos.y=0-this.mRandomPos.y);var t=this.speed*this.m_time_cell,o=Math.atan2(this.mRandomPos.y,this.mRandomPos.x),r=t*Math.cos(o),i=t*Math.sin(o);n.x+=r,n.y+=i,e.setPosition(cc.v2(n.x,n.y)),this.node.convertToWorldSpaceAR(cc.v2(e.x,e.y));var a=180*o/Math.PI;e.angle=a-90,n.z=a-90,this.pos_set.push(n),this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var c=this.node.childrenCount-2;c>=0;c--){var s=this.node.children[c],u=this.point_num*c;s.setPosition(cc.v2(this.pos_set[u].x,this.pos_set[u].y)),s.angle=this.pos_set[u].z,s.cur_index=u,0==c&&this.pos_set.shift()}}}),cc._RF.pop()},{}],sanke_btn:[function(e,n){"use strict";cc._RF.push(n,"b58d2AcCBVPg4P3iV4OucZ2","sanke_btn"),cc.Class({extends:cc.Component,properties:{m_sanke:{default:null,type:cc.Node}},onStartBtn:function(){this.m_sanke.speed_time=1},onUpBtn:function(){this.m_sanke.speed_time=2},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onStartBtn,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onUpBtn,this)},start:function(){this.m_sanke=this.m_sanke.getComponent("sanke_play")}}),cc._RF.pop()},{}],sanke_children:[function(e,n){"use strict";cc._RF.push(n,"2b080u1t95MHrbzEK1Kv7N8","sanke_children"),cc.Class({extends:cc.Component,properties:{},onCollisionEnter:function(e,n){if(e.node.name.substring(0,10)===n.node.name.substring(0,10)||"food"==e.node.name)return!1;if("sanke_play_head"==e.node.name)return e.node.parent.getComponent("sanke_play").gameOver=!0,!1;if("head"==e.node.name.substring(11)&&"sanke_play"!=n.node.name.substring(0,10)){for(var t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num,a=0;a<o;a++){var c=null;r._myFoodPool.size()>0&&a%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[a*i].x+480+r.getRndInteger(-5,5),c.y=t[a*i].y+320+r.getRndInteger(-5,5),c.parent=e.node.parent.parent.parent.children[1])}m.node.x=480,m.node.y=320;for(var s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3,l=0;l<m.node.childrenCount;l++)m.node.children[l].setPosition(cc.v2(s,u));for(var f=0;f<m.pos_set.length;f++)m.pos_set[f]=cc.v3(s,u,0);return!1}if("head"==e.node.name.substring(11)&&"sanke_play"==n.node.name.substring(0,10)){t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var h=0;h<o;h++)c=null,r._myFoodPool.size()>0&&h%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[h*i].x+480+r.getRndInteger(-5,5),c.y=t[h*i].y+320+r.getRndInteger(-5,5),c.parent=e.node.parent.parent.parent.children[1]);m.node.x=480,m.node.y=320,s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var d=0;d<m.node.childrenCount;d++)m.node.children[d].setPosition(cc.v2(s,u));for(var p=0;p<m.pos_set.length;p++)m.pos_set[p]=cc.v3(s,u,0);return!1}if("head"==e.node.name.substring(11)&&"sanke_play_head"==n.node.name){t=(m=e.node.parent.getComponent("sanke_ai")).pos_set,o=e.node.parent.childrenCount,r=e.node.parent.parent.parent.children[0].children[1].getComponent("Main"),i=m.point_num;for(var m,y=0;y<o;y++)c=null,r._myFoodPool.size()>0&&y%2==0&&((c=r._myFoodPool.get(r._myFoodPool)).color=new cc.Color(r.getRndInteger(0,255),r.getRndInteger(0,255),r.getRndInteger(0,255)),c.active=!0,c.x=t[y*i].x+480+r.getRndInteger(-15,15),c.y=t[y*i].y+320+r.getRndInteger(-15,15),c.parent=e.node.parent.parent.parent.children[1]);m.node.x=480,m.node.y=320,s=Math.floor(4e3*Math.random())+-2e3,u=Math.floor(4e3*Math.random())+-2e3;for(var g=0;g<m.node.childrenCount;g++)m.node.children[g].setPosition(cc.v2(s,u));for(var v=0;v<m.pos_set.length;v++)m.pos_set[v]=cc.v3(s,u,0);return!1}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0},start:function(){}}),cc._RF.pop()},{}],sanke_play:[function(e,n){"use strict";cc._RF.push(n,"2b7b8YLqLtNFIqbWRPY11Nm","sanke_play"),cc.Class({extends:cc.Component,properties:{mYg:{default:null,type:cc.Node},time_01:0,BLOCK_LEN:20,speed:200,mCamera:{type:cc.Camera,default:null},speed_time:.01,m_time_cell:0,_m_food_num:0,mSnakeScale:1,mCZoomRatio:1,gameOver:!1},onXXX:function(){var e=(this.node.childrenCount-1)*this.BLOCK_LEN,n=this.node.children[this.node.childrenCount-1],t=n.x,o=n.y,r=n.z,i=e/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell},capture_points:function(){var e,n=(this.node.childrenCount-1)*this.BLOCK_LEN,t=(e=this.node.children[this.node.childrenCount-1]).x,o=e.y,r=e.z,i=n/this.speed;this.pos_set=[],this.pos_set.push(cc.v3(t,o,r));for(var a=0;a<i;)o+=this.speed*this.m_time_cell,this.pos_set.push(cc.v3(t,o,r)),a+=this.m_time_cell;(e=this.node.children[this.node.childrenCount-1]).zIndex=100,e.setPosition(cc.v2(this.pos_set[this.pos_set.length-1].x,this.pos_set[this.pos_set.length-1].y)),e.angle=this.pos_set[this.pos_set.length-1].z,this.point_num=Math.floor(this.BLOCK_LEN/(this.speed*this.m_time_cell));for(var c=this.node.childrenCount-2;c>=0;c--){var s=this.node.children[c],u=this.point_num*c;s.setPosition(cc.v2(this.pos_set[u].x,this.pos_set[u].y)),s.angle=this.pos_set[u].z,s.cur_index=u}},onLoad:function(){this.m_time_cell=.02,this.speed_time=2},start:function(){this.capture_points(),null!=this.mYg&&(this.mYg=this.mYg.getComponent("yg"))},moveSanke:function(){var e=this.speed*this.m_time_cell,n=(this.mYg.dir.x,this.mYg.dir.y,Math.atan2(this.mYg.dir.y,this.mYg.dir.x)),t=e*Math.cos(n),o=e*Math.sin(n),r=this.node.children[this.node.childrenCount-1],i=r.getPosition();i.x+=t,i.y+=o,r.setPosition(cc.v2(i.x,i.y));var a=this.node.convertToWorldSpaceAR(cc.v2(r.x,r.y)),c=180*n/Math.PI;r.angle=c-90,i.z=c-90,this.pos_set.push(i),null!==this.mCamera&&(this.mCamera.node.x=a.x-480,this.mCamera.node.y=a.y-320),this.point_num=Math.floor(this.BLOCK_LEN/e);for(var s=this.node.childrenCount-2;s>=0;s--){var u=this.node.children[s],l=this.point_num*s;u.setPosition(cc.v2(this.pos_set[l].x,this.pos_set[l].y)),u.angle=this.pos_set[l].z,u.cur_index=l,0==s&&this.pos_set.shift()}}}),cc._RF.pop()},{}],wx_login_test:[function(e,n){"use strict";cc._RF.push(n,"b390bVAm2NHlY6zRklifd7S","wx_login_test");var t,o,r,i,a=!1,c=!1;cc.Class({extends:cc.Component,properties:{label:{default:null,type:cc.Label},msgBox:{default:null,type:cc.EditBox},mySprite:{default:null,type:cc.Sprite}},btnClick1:function(){this.msgBox.Label=o,this.msgBox.string=r,c?this.mySprite.spriteFrame=i:console.log("downloading...")},onLoad:function(){},start:function(){window.wx?(this.msgBox.string="Weixin",cc.log("Yes."),wx.getSystemInfo({success:function(e){(t=wx.createUserInfoButton({type:"text",text:"\u5f00\u59cb\u591a\u4eba\u6e38\u620f",style:{left:.2*e.screenWidth,top:.73*e.screenHeight,width:.65*e.screenWidth,height:.07*e.screenHeight,lineHeight:.07*e.screenHeight,backgroundColor:"#fe714a",color:"#ffffff",textAlign:"center",fontSize:.025*e.screenHeight,borderRadius:8}})).onTap(function(e){console.log("\u8fd9\u91cc\u662findex"),console.log(e),a||(a=!0,setTimeout(function(){a=!1},1e3),o=e.userInfo.nickName,e.userInfo.avatarUrl,r=e.userInfo.avatarUrl+"?.jpg",t.hide(),console.log("two"),cc.loader.load(r,function(e,n){console.log("2"),i=new cc.SpriteFrame(n),c=!0,console.log(r),cc.director.loadScene("test")}),console.log("three"))})}})):(cc.log("no."),this.label.string="no Weixin",this.msgBox.string="no Weixin")},update:function(){this.label.string=o,c&&(this.mySprite.spriteFrame=i)}}),cc._RF.pop()},{}],yg:[function(e,n){"use strict";cc._RF.push(n,"08b26xJmwlBqK2ywY7TMt0F","yg"),cc.Class({extends:cc.Component,properties:{m_Max_Rlen:100,m_Min_Rlen:10,dir:cc.v2(0,0)},onTouchMove:function(e){this.node.x=0,this.node.y=0;var n=e.getLocation(),t=this.node.convertToNodeSpaceAR(n),o=t.mag();if(this.dir.x=t.x/o,this.dir.y=t.y/o,o<=this.m_Min_Rlen)return this.node.setPosition(t),!1;o>this.m_Max_Rlen&&(t.x=t.x*this.m_Max_Rlen/o,t.y=t.y*this.m_Max_Rlen/o),this.node.setPosition(t)},onTouchCancel:function(){this.node.x=0,this.node.y=0},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},start:function(){}}),cc._RF.pop()},{}]},{},["HelloWorld","Main","UIBtn","async","enable_phy","food","mapCollider","sanke_ai","sanke_btn","sanke_children","sanke_play","wx_login_test","yg"]);